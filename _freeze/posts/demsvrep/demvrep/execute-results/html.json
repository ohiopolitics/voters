{
  "hash": "d8bf21896e83af50e7b6994f54b59202",
  "result": {
    "markdown": "---\ntitle: \"Trends between Democrats and Republicans\"\nauthor: \"Data Wizards\"\nimage: \"pca.png\"\nformat:\n  html:\n    code-fold: true\n---\n\n\nWhen we talk about Republicans and Democrats, it's important to remember just how many more people are unaffiliated, and how many more don't even register. Yes, there are more Republicans than Democrats, but a well-organized campaign in specific areas can reach a lot of people and have a big sway on the total votes.\n\n\n::: {.cell}\n\n```{.r .cell-code}\nlibrary(tidyverse)\ndf = read_csv(\"summary.csv\") %>% \n  mutate(party_affiliation = case_when(party_affiliation == \"R\" ~ \"Republican\",\n                                       party_affiliation == \"D\" ~ \"Democrat\",\n                                       party_affiliation == \"L\" ~ \"Libertarian\",\n                                       TRUE ~ \"Independent\"))\n```\n:::\n\n::: {.cell}\n\n```{.r .cell-code}\nvoting_age_adults <- round(11756058*.728)\n\nsummary <- df %>%\n  group_by(party_affiliation) %>%\n  summarise(count = sum(sos_voter_id)) \n\nn_registered_voters = summary$count %>% sum\n\nunregistered_voters = voting_age_adults - n_registered_voters\n\n\nf = summary %>% \n  add_row(party_affiliation=\"Unregistered\", count=unregistered_voters) %>% \n  ggplot(aes(x = count,\n             y = reorder(party_affiliation,count),\n             fill = party_affiliation)) +\n  geom_col() +\n  theme_minimal() +\n  scale_fill_manual(values=c('Republican'='red',\n                             'Democrat'='blue',\n                             'Libertarian'='yellow',\n                             'Independent'='purple',\n                             'Unregistered'='darkgrey'),\n                    na.value = 'grey')+\n  theme(legend.position='none',\n        panel.grid.minor = element_blank()) +\n  labs(x='Total Voters (in thousands)',y='Party') +\n  scale_x_continuous(labels = scales::comma)\n  \n\nf %>% plotly::ggplotly()\n```\n\n::: {.cell-output-display}\n\n```{=html}\n<div class=\"plotly html-widget html-fill-item-overflow-hidden html-fill-item\" id=\"htmlwidget-1c50b46a4c5d13300fe6\" style=\"width:100%;height:464px;\"></div>\n<script type=\"application/json\" data-for=\"htmlwidget-1c50b46a4c5d13300fe6\">{\"x\":{\"data\":[{\"orientation\":\"v\",\"width\":1015030,\"base\":2.5499999999999998,\"x\":[507515],\"y\":[0.90000000000000036],\"text\":\"count: 1015030<br />reorder(party_affiliation, count): Democrat<br />party_affiliation: Democrat\",\"type\":\"bar\",\"textposition\":\"none\",\"marker\":{\"autocolorscale\":false,\"color\":\"rgba(0,0,255,1)\",\"line\":{\"width\":1.8897637795275593,\"color\":\"transparent\"}},\"name\":\"Democrat\",\"legendgroup\":\"Democrat\",\"showlegend\":true,\"xaxis\":\"x\",\"yaxis\":\"y\",\"hoverinfo\":\"text\",\"frame\":null},{\"orientation\":\"v\",\"width\":5445637,\"base\":4.5499999999999998,\"x\":[2722818.5],\"y\":[0.90000000000000036],\"text\":\"count: 5445637<br />reorder(party_affiliation, count): Independent<br />party_affiliation: Independent\",\"type\":\"bar\",\"textposition\":\"none\",\"marker\":{\"autocolorscale\":false,\"color\":\"rgba(160,32,240,1)\",\"line\":{\"width\":1.8897637795275593,\"color\":\"transparent\"}},\"name\":\"Independent\",\"legendgroup\":\"Independent\",\"showlegend\":true,\"xaxis\":\"x\",\"yaxis\":\"y\",\"hoverinfo\":\"text\",\"frame\":null},{\"orientation\":\"v\",\"width\":1786,\"base\":0.55000000000000004,\"x\":[893],\"y\":[0.89999999999999991],\"text\":\"count:    1786<br />reorder(party_affiliation, count): Libertarian<br />party_affiliation: Libertarian\",\"type\":\"bar\",\"textposition\":\"none\",\"marker\":{\"autocolorscale\":false,\"color\":\"rgba(255,255,0,1)\",\"line\":{\"width\":1.8897637795275593,\"color\":\"transparent\"}},\"name\":\"Libertarian\",\"legendgroup\":\"Libertarian\",\"showlegend\":true,\"xaxis\":\"x\",\"yaxis\":\"y\",\"hoverinfo\":\"text\",\"frame\":null},{\"orientation\":\"v\",\"width\":1337527,\"base\":3.5499999999999998,\"x\":[668763.5],\"y\":[0.90000000000000036],\"text\":\"count: 1337527<br />reorder(party_affiliation, count): Republican<br />party_affiliation: Republican\",\"type\":\"bar\",\"textposition\":\"none\",\"marker\":{\"autocolorscale\":false,\"color\":\"rgba(255,0,0,1)\",\"line\":{\"width\":1.8897637795275593,\"color\":\"transparent\"}},\"name\":\"Republican\",\"legendgroup\":\"Republican\",\"showlegend\":true,\"xaxis\":\"x\",\"yaxis\":\"y\",\"hoverinfo\":\"text\",\"frame\":null},{\"orientation\":\"v\",\"width\":758430,\"base\":1.55,\"x\":[379215],\"y\":[0.90000000000000013],\"text\":\"count:  758430<br />reorder(party_affiliation, count): Unregistered<br />party_affiliation: Unregistered\",\"type\":\"bar\",\"textposition\":\"none\",\"marker\":{\"autocolorscale\":false,\"color\":\"rgba(169,169,169,1)\",\"line\":{\"width\":1.8897637795275593,\"color\":\"transparent\"}},\"name\":\"Unregistered\",\"legendgroup\":\"Unregistered\",\"showlegend\":true,\"xaxis\":\"x\",\"yaxis\":\"y\",\"hoverinfo\":\"text\",\"frame\":null}],\"layout\":{\"margin\":{\"t\":26.228310502283104,\"r\":7.3059360730593621,\"b\":40.182648401826491,\"l\":95.707762557077658},\"font\":{\"color\":\"rgba(0,0,0,1)\",\"family\":\"\",\"size\":14.611872146118724},\"xaxis\":{\"domain\":[0,1],\"automargin\":true,\"type\":\"linear\",\"autorange\":false,\"range\":[-272281.85000000003,5717918.8499999996],\"tickmode\":\"array\",\"ticktext\":[\"0\",\"2,000,000\",\"4,000,000\"],\"tickvals\":[0,2000000,3999999.9999999995],\"categoryorder\":\"array\",\"categoryarray\":[\"0\",\"2,000,000\",\"4,000,000\"],\"nticks\":null,\"ticks\":\"\",\"tickcolor\":null,\"ticklen\":3.6529680365296811,\"tickwidth\":0,\"showticklabels\":true,\"tickfont\":{\"color\":\"rgba(77,77,77,1)\",\"family\":\"\",\"size\":11.68949771689498},\"tickangle\":-0,\"showline\":false,\"linecolor\":null,\"linewidth\":0,\"showgrid\":true,\"gridcolor\":\"rgba(235,235,235,1)\",\"gridwidth\":0.66417600664176002,\"zeroline\":false,\"anchor\":\"y\",\"title\":{\"text\":\"Total Voters (in thousands)\",\"font\":{\"color\":\"rgba(0,0,0,1)\",\"family\":\"\",\"size\":14.611872146118724}},\"hoverformat\":\".2f\"},\"yaxis\":{\"domain\":[0,1],\"automargin\":true,\"type\":\"linear\",\"autorange\":false,\"range\":[0.40000000000000002,5.5999999999999996],\"tickmode\":\"array\",\"ticktext\":[\"Libertarian\",\"Unregistered\",\"Democrat\",\"Republican\",\"Independent\"],\"tickvals\":[1,2,3,4,5],\"categoryorder\":\"array\",\"categoryarray\":[\"Libertarian\",\"Unregistered\",\"Democrat\",\"Republican\",\"Independent\"],\"nticks\":null,\"ticks\":\"\",\"tickcolor\":null,\"ticklen\":3.6529680365296811,\"tickwidth\":0,\"showticklabels\":true,\"tickfont\":{\"color\":\"rgba(77,77,77,1)\",\"family\":\"\",\"size\":11.68949771689498},\"tickangle\":-0,\"showline\":false,\"linecolor\":null,\"linewidth\":0,\"showgrid\":true,\"gridcolor\":\"rgba(235,235,235,1)\",\"gridwidth\":0.66417600664176002,\"zeroline\":false,\"anchor\":\"x\",\"title\":{\"text\":\"Party\",\"font\":{\"color\":\"rgba(0,0,0,1)\",\"family\":\"\",\"size\":14.611872146118724}},\"hoverformat\":\".2f\"},\"shapes\":[{\"type\":\"rect\",\"fillcolor\":null,\"line\":{\"color\":null,\"width\":0,\"linetype\":[]},\"yref\":\"paper\",\"xref\":\"paper\",\"x0\":0,\"x1\":1,\"y0\":0,\"y1\":1}],\"showlegend\":false,\"legend\":{\"bgcolor\":null,\"bordercolor\":null,\"borderwidth\":0,\"font\":{\"color\":\"rgba(0,0,0,1)\",\"family\":\"\",\"size\":11.68949771689498}},\"hovermode\":\"closest\",\"barmode\":\"relative\"},\"config\":{\"doubleClick\":\"reset\",\"modeBarButtonsToAdd\":[\"hoverclosest\",\"hovercompare\"],\"showSendToCloud\":false},\"source\":\"A\",\"attrs\":{\"dac71771e9\":{\"x\":{},\"y\":{},\"fill\":{},\"type\":\"bar\"}},\"cur_data\":\"dac71771e9\",\"visdat\":{\"dac71771e9\":[\"function (y) \",\"x\"]},\"highlight\":{\"on\":\"plotly_click\",\"persistent\":false,\"dynamic\":false,\"selectize\":false,\"opacityDim\":0.20000000000000001,\"selected\":{\"opacity\":1},\"debounce\":0},\"shinyEvents\":[\"plotly_hover\",\"plotly_click\",\"plotly_selected\",\"plotly_relayout\",\"plotly_brushed\",\"plotly_brushing\",\"plotly_clickannotation\",\"plotly_doubleclick\",\"plotly_deselect\",\"plotly_afterplot\",\"plotly_sunburstclick\"],\"base_url\":\"https://plot.ly\"},\"evals\":[],\"jsHooks\":[]}</script>\n```\n\n:::\n:::\n\n\nMost national trends apply to Ohio too. People turn more conservative as they get older, younger people are less likely to register to vote, etc.\n\n\n::: {.cell}\n\n```{.r .cell-code}\nage_sum <- df %>%\n  group_by(age,party_affiliation) %>%\n  summarise(count = sum(sos_voter_id))\n```\n\n::: {.cell-output .cell-output-stderr}\n\n```\n`summarise()` has grouped output by 'age'. You can override using the `.groups`\nargument.\n```\n\n\n:::\n\n```{.r .cell-code}\nparty_order <- c(\"Libertarian\", \"Independent\", \"Republican\", \"Democrat\")\n\n\n# Set the Party variable as a factor with the desired order\nage_sum$party_affiliation <- factor(age_sum$party_affiliation, levels = party_order)\n\nf= ggplot(age_sum, aes(y=age,x=count,fill=party_affiliation,label=count)) +\n  geom_col(position='dodge') +\n  scale_fill_manual(values=c('Republican'='red','Democrat'='blue','Libertarian'='yellow','Unaffiliated'='purple'),na.value = 'grey') +\n  theme_minimal() +\n  labs(x='Number of Voters',y='Age Range',title='Affiliation by Age Range',\n       fill='Party Affiliation') +\n  scale_x_continuous(labels = scales::comma)\n\n\nf %>% plotly::ggplotly()\n```\n\n::: {.cell-output-display}\n\n```{=html}\n<div class=\"plotly html-widget html-fill-item-overflow-hidden html-fill-item\" id=\"htmlwidget-5d06fdb4570b57350f23\" style=\"width:100%;height:464px;\"></div>\n<script type=\"application/json\" data-for=\"htmlwidget-5d06fdb4570b57350f23\">{\"x\":{\"data\":[{\"orientation\":\"v\",\"width\":[128,448,786,424],\"base\":[0.55000000000000004,1.55,2.5499999999999998,3.5499999999999998],\"x\":[64,224,393,212],\"y\":[0.22500000000000009,0.22500000000000009,0.22500000000000053,0.22500000000000053],\"text\":[\"count:     128<br />age: 18-25<br />party_affiliation: Libertarian<br />count:     128\",\"count:     448<br />age: 26-40<br />party_affiliation: Libertarian<br />count:     448\",\"count:     786<br />age: 41-64<br />party_affiliation: Libertarian<br />count:     786\",\"count:     424<br />age: 65+<br />party_affiliation: Libertarian<br />count:     424\"],\"type\":\"bar\",\"textposition\":\"none\",\"marker\":{\"autocolorscale\":false,\"color\":\"rgba(255,255,0,1)\",\"line\":{\"width\":1.8897637795275593,\"color\":\"transparent\"}},\"name\":\"Libertarian\",\"legendgroup\":\"Libertarian\",\"showlegend\":true,\"xaxis\":\"x\",\"yaxis\":\"y\",\"hoverinfo\":\"text\",\"frame\":null},{\"orientation\":\"v\",\"width\":[682005,1742646,2113711,907275],\"base\":[0.77499999999999991,1.7749999999999999,2.7750000000000004,3.7750000000000004],\"x\":[341002.5,871323,1056855.5,453637.5],\"y\":[0.22500000000000009,0.22500000000000009,0.22499999999999964,0.22499999999999964],\"text\":[\"count:  682005<br />age: 18-25<br />party_affiliation: Independent<br />count:  682005\",\"count: 1742646<br />age: 26-40<br />party_affiliation: Independent<br />count: 1742646\",\"count: 2113711<br />age: 41-64<br />party_affiliation: Independent<br />count: 2113711\",\"count:  907275<br />age: 65+<br />party_affiliation: Independent<br />count:  907275\"],\"type\":\"bar\",\"textposition\":\"none\",\"marker\":{\"autocolorscale\":false,\"color\":\"rgba(190,190,190,1)\",\"line\":{\"width\":1.8897637795275593,\"color\":\"transparent\"}},\"name\":\"Independent\",\"legendgroup\":\"Independent\",\"showlegend\":true,\"xaxis\":\"x\",\"yaxis\":\"y\",\"hoverinfo\":\"text\",\"frame\":null},{\"orientation\":\"v\",\"width\":[36103,119534,542148,639742],\"base\":[1,1.9999999999999998,3,4],\"x\":[18051.5,59767,271074,319871],\"y\":[0.22500000000000009,0.22499999999999987,0.22499999999999964,0.22499999999999964],\"text\":[\"count:   36103<br />age: 18-25<br />party_affiliation: Republican<br />count:   36103\",\"count:  119534<br />age: 26-40<br />party_affiliation: Republican<br />count:  119534\",\"count:  542148<br />age: 41-64<br />party_affiliation: Republican<br />count:  542148\",\"count:  639742<br />age: 65+<br />party_affiliation: Republican<br />count:  639742\"],\"type\":\"bar\",\"textposition\":\"none\",\"marker\":{\"autocolorscale\":false,\"color\":\"rgba(255,0,0,1)\",\"line\":{\"width\":1.8897637795275593,\"color\":\"transparent\"}},\"name\":\"Republican\",\"legendgroup\":\"Republican\",\"showlegend\":true,\"xaxis\":\"x\",\"yaxis\":\"y\",\"hoverinfo\":\"text\",\"frame\":null},{\"orientation\":\"v\",\"width\":[41595,142062,348972,482401],\"base\":[1.2249999999999999,2.2250000000000001,3.2249999999999996,4.2250000000000005],\"x\":[20797.5,71031,174486,241200.5],\"y\":[0.22500000000000009,0.22499999999999964,0.22500000000000053,0.22499999999999964],\"text\":[\"count:   41595<br />age: 18-25<br />party_affiliation: Democrat<br />count:   41595\",\"count:  142062<br />age: 26-40<br />party_affiliation: Democrat<br />count:  142062\",\"count:  348972<br />age: 41-64<br />party_affiliation: Democrat<br />count:  348972\",\"count:  482401<br />age: 65+<br />party_affiliation: Democrat<br />count:  482401\"],\"type\":\"bar\",\"textposition\":\"none\",\"marker\":{\"autocolorscale\":false,\"color\":\"rgba(0,0,255,1)\",\"line\":{\"width\":1.8897637795275593,\"color\":\"transparent\"}},\"name\":\"Democrat\",\"legendgroup\":\"Democrat\",\"showlegend\":true,\"xaxis\":\"x\",\"yaxis\":\"y\",\"hoverinfo\":\"text\",\"frame\":null}],\"layout\":{\"margin\":{\"t\":43.762557077625573,\"r\":7.3059360730593621,\"b\":40.182648401826491,\"l\":54.794520547945211},\"font\":{\"color\":\"rgba(0,0,0,1)\",\"family\":\"\",\"size\":14.611872146118724},\"title\":{\"text\":\"Affiliation by Age Range\",\"font\":{\"color\":\"rgba(0,0,0,1)\",\"family\":\"\",\"size\":17.534246575342465},\"x\":0,\"xref\":\"paper\"},\"xaxis\":{\"domain\":[0,1],\"automargin\":true,\"type\":\"linear\",\"autorange\":false,\"range\":[-105685.55,2219396.5499999998],\"tickmode\":\"array\",\"ticktext\":[\"0\",\"500,000\",\"1,000,000\",\"1,500,000\",\"2,000,000\"],\"tickvals\":[0,500000.00000000006,1000000,1500000,1999999.9999999998],\"categoryorder\":\"array\",\"categoryarray\":[\"0\",\"500,000\",\"1,000,000\",\"1,500,000\",\"2,000,000\"],\"nticks\":null,\"ticks\":\"\",\"tickcolor\":null,\"ticklen\":3.6529680365296811,\"tickwidth\":0,\"showticklabels\":true,\"tickfont\":{\"color\":\"rgba(77,77,77,1)\",\"family\":\"\",\"size\":11.68949771689498},\"tickangle\":-0,\"showline\":false,\"linecolor\":null,\"linewidth\":0,\"showgrid\":true,\"gridcolor\":\"rgba(235,235,235,1)\",\"gridwidth\":0.66417600664176002,\"zeroline\":false,\"anchor\":\"y\",\"title\":{\"text\":\"Number of Voters\",\"font\":{\"color\":\"rgba(0,0,0,1)\",\"family\":\"\",\"size\":14.611872146118724}},\"hoverformat\":\".2f\"},\"yaxis\":{\"domain\":[0,1],\"automargin\":true,\"type\":\"linear\",\"autorange\":false,\"range\":[0.40000000000000002,4.5999999999999996],\"tickmode\":\"array\",\"ticktext\":[\"18-25\",\"26-40\",\"41-64\",\"65+\"],\"tickvals\":[1,2,3,4],\"categoryorder\":\"array\",\"categoryarray\":[\"18-25\",\"26-40\",\"41-64\",\"65+\"],\"nticks\":null,\"ticks\":\"\",\"tickcolor\":null,\"ticklen\":3.6529680365296811,\"tickwidth\":0,\"showticklabels\":true,\"tickfont\":{\"color\":\"rgba(77,77,77,1)\",\"family\":\"\",\"size\":11.68949771689498},\"tickangle\":-0,\"showline\":false,\"linecolor\":null,\"linewidth\":0,\"showgrid\":true,\"gridcolor\":\"rgba(235,235,235,1)\",\"gridwidth\":0.66417600664176002,\"zeroline\":false,\"anchor\":\"x\",\"title\":{\"text\":\"Age Range\",\"font\":{\"color\":\"rgba(0,0,0,1)\",\"family\":\"\",\"size\":14.611872146118724}},\"hoverformat\":\".2f\"},\"shapes\":[{\"type\":\"rect\",\"fillcolor\":null,\"line\":{\"color\":null,\"width\":0,\"linetype\":[]},\"yref\":\"paper\",\"xref\":\"paper\",\"x0\":0,\"x1\":1,\"y0\":0,\"y1\":1}],\"showlegend\":true,\"legend\":{\"bgcolor\":null,\"bordercolor\":null,\"borderwidth\":0,\"font\":{\"color\":\"rgba(0,0,0,1)\",\"family\":\"\",\"size\":11.68949771689498},\"title\":{\"text\":\"Party Affiliation\",\"font\":{\"color\":\"rgba(0,0,0,1)\",\"family\":\"\",\"size\":14.611872146118724}}},\"hovermode\":\"closest\",\"barmode\":\"relative\"},\"config\":{\"doubleClick\":\"reset\",\"modeBarButtonsToAdd\":[\"hoverclosest\",\"hovercompare\"],\"showSendToCloud\":false},\"source\":\"A\",\"attrs\":{\"dac16d42670\":{\"x\":{},\"y\":{},\"fill\":{},\"label\":{},\"type\":\"bar\"}},\"cur_data\":\"dac16d42670\",\"visdat\":{\"dac16d42670\":[\"function (y) \",\"x\"]},\"highlight\":{\"on\":\"plotly_click\",\"persistent\":false,\"dynamic\":false,\"selectize\":false,\"opacityDim\":0.20000000000000001,\"selected\":{\"opacity\":1},\"debounce\":0},\"shinyEvents\":[\"plotly_hover\",\"plotly_click\",\"plotly_selected\",\"plotly_relayout\",\"plotly_brushed\",\"plotly_brushing\",\"plotly_clickannotation\",\"plotly_doubleclick\",\"plotly_deselect\",\"plotly_afterplot\",\"plotly_sunburstclick\"],\"base_url\":\"https://plot.ly\"},\"evals\":[],\"jsHooks\":[]}</script>\n```\n\n:::\n:::\n",
    "supporting": [],
    "filters": [
      "rmarkdown/pagebreak.lua"
    ],
    "includes": {
      "include-in-header": [
        "<script src=\"../../site_libs/htmlwidgets-1.6.2/htmlwidgets.js\"></script>\r\n<script src=\"../../site_libs/plotly-binding-4.10.2/plotly.js\"></script>\r\n<script src=\"../../site_libs/typedarray-0.1/typedarray.min.js\"></script>\r\n<script src=\"../../site_libs/jquery-3.5.1/jquery.min.js\"></script>\r\n<link href=\"../../site_libs/crosstalk-1.2.0/css/crosstalk.min.css\" rel=\"stylesheet\" />\r\n<script src=\"../../site_libs/crosstalk-1.2.0/js/crosstalk.min.js\"></script>\r\n<link href=\"../../site_libs/plotly-htmlwidgets-css-2.11.1/plotly-htmlwidgets.css\" rel=\"stylesheet\" />\r\n<script src=\"../../site_libs/plotly-main-2.11.1/plotly-latest.min.js\"></script>\r\n"
      ]
    },
    "engineDependencies": {},
    "preserve": {},
    "postProcess": true
  }
}